import{B as pe,C as de,F as ue,G as he,H as fe,I as ge,K as Ce,a as U,f as q,g as P,h as Z,i as J,j as R,k as Y,l as $,m as F,n as ee,o as te,p as ie,q as ne,r as oe,s as se,t as re,u as ae,v as le,w as x,x as ce,y as me,z as M}from"./chunk-NPPDS6JA.js";import{Bb as L,Db as f,Eb as N,Fc as W,Gc as w,Ib as H,Lc as B,Ob as l,Pb as z,Qb as G,Rb as Q,Sb as I,Tb as T,Ub as O,Va as a,Wa as m,X as V,Y as _,aa as X,fa as h,ga as k,ib as S,kb as c,pa as D,qa as K,vb as s,wb as r,xb as p,yb as y,zb as b}from"./chunk-6W7VELQ7.js";var g=(()=>{let t=class t{constructor(e){this.http=e}getCookie(e){let i=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return i?i[2]:null}getClasses(e){let i=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.post("http://localhost:8000/api/classes",e,{headers:{"X-XSRF-TOKEN":i,Accept:"application/json"},withCredentials:!0})}getStudentAnswer(e){let i=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.post("http://localhost:8000/api/stuans",e,{headers:{"X-XSRF-TOKEN":i,Accept:"application/json"},withCredentials:!0})}toEvaluation(e){let i=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.post("http://localhost:8000/api/evaluate",e,{headers:{"X-XSRF-TOKEN":i,Accept:"application/json"},withCredentials:!0})}getAll(){let e=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.get("http://localhost:8000/api/archive",{headers:{"X-XSRF-TOKEN":e,Accept:"application/json"},withCredentials:!0})}assign(e){let i=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.post("http://localhost:8000/api/assign",e,{headers:{"X-XSRF-TOKEN":i,Accept:"application/json"},withCredentials:!0})}logOut(){let e=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.post("http://localhost:8000/logout",{},{headers:{"X-XSRF-TOKEN":e,Accept:"application/json"},withCredentials:!0})}getStats(){let e=decodeURIComponent(this.getCookie("XSRF-TOKEN"));return this.http.get("http://localhost:8000/api/stats",{headers:{"X-XSRF-TOKEN":e,Accept:"application/json"},withCredentials:!0})}};t.\u0275fac=function(i){return new(i||t)(X(U))},t.\u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ve=(()=>{let t=class t{constructor(e,i,o){this.teacherService=e,this.auth=i,this.router=o,this.switchClass=!0}switcher(e){this.switchClass=e}logOut(){this.teacherService.logOut().subscribe(e=>{this.auth.setUser(""),this.router.navigate(["/login"])})}};t.\u0275fac=function(i){return new(i||t)(m(g),m(Y),m(Z))},t.\u0275cmp=h({type:t,selectors:[["app-home-teacher"]],decls:39,vars:3,consts:[["slimTitle","Ministero dell'Istruzione e del Merito","slimTitleLink","https://www.miur.gov.it/"],["slimRightZone","","mode","nav"],["button",""],["name","user","color","white","size","xl"],["list",""],["name","settings"],[3,"click"],["name","logout"],["brand",""],["href","#"],["name","pa"],[1,"it-brand-text"],[1,"it-brand-title"],[1,"it-brand-tagline","d-none","d-md-block"],["navItems",""],["routerLink","compiti","aria-current","page",3,"click","ngClass"],["name","bookmark","color","white"],["routerLink","assegnazione","aria-current","page",3,"click","ngClass"],["aria-current","page","routerLink","statistics",3,"click","ngClass"],["name","comment","color","white"]],template:function(i,o){i&1&&(s(0,"div")(1,"div")(2,"it-header",0)(3,"it-dropdown",1)(4,"span",2),p(5,"it-icon",3),r(),y(6,4),s(7,"it-dropdown-item"),p(8,"it-icon",5),l(9," Impostazioni"),r(),s(10,"it-dropdown-item",6),f("click",function(){return o.logOut()}),p(11,"it-icon",7),l(12," Log Out"),r(),b(),r(),y(13,8),s(14,"a",9),p(15,"it-icon",10),s(16,"div",11)(17,"div",12),l(18,"Tipo di Istituto"),r(),s(19,"div",13),l(20,"Nome della Scuola"),r()()(),b(),y(21,14),s(22,"it-navbar-item")(23,"a",15),f("click",function(){return o.switcher(!0)}),s(24,"span"),p(25,"it-icon",16),l(26,"Correzione Compiti"),r()()(),s(27,"it-navbar-item")(28,"a",17),f("click",function(){return o.switcher(!0)}),s(29,"span"),p(30,"it-icon",16),l(31,"Assegnazione Compiti"),r()()(),s(32,"it-navbar-item")(33,"a",18),f("click",function(){return o.switcher(!1)}),s(34,"span"),p(35,"it-icon",19),l(36," Statistiche"),r()()(),b(),r()(),s(37,"div"),p(38,"router-outlet"),r()()),i&2&&(a(23),c("ngClass",o.switchClass?"nav-link active":"nav-link"),a(5),c("ngClass",o.switchClass?"nav-link active":"nav-link"),a(5),c("ngClass",o.switchClass?"nav-link":"nav-link active"))},dependencies:[W,P,J,me,ce,ge,fe,x]});let n=t;return n})();function be(n,t){if(n&1&&(s(0,"it-list-item",3)(1,"span",4),l(2),r(),p(3,"it-icon",5),r()),n&2){let u=t.$implicit;H("href","/insegnanti/compiti/",u.id,""),a(2),z(u.name)}}var Se=(()=>{let t=class t{constructor(e){this.teacherService=e}ngOnInit(){this.teacherService.getClasses({id:4}).subscribe(e=>{this.classes=e.classes,console.log(e)})}};t.\u0275fac=function(i){return new(i||t)(m(g))},t.\u0275cmp=h({type:t,selectors:[["app-homework"]],decls:3,vars:1,consts:[[1,"d-flex","justify-content-center"],["navItems","",1,"w-75"],["externalLink","false",3,"href",4,"ngFor","ngForOf"],["externalLink","false",3,"href"],[1,"text"],["name","chevron-right","color","primary"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"it-list",1),S(2,be,4,3,"it-list-item",2),r()()),i&2&&(a(2),c("ngForOf",o.classes))},dependencies:[w,pe,de,x]});let n=t;return n})();function Te(n,t){if(n&1){let u=L();s(0,"div",3)(1,"form",4)(2,"p"),l(3),r(),p(4,"it-textarea",5),s(5,"button",6),f("click",function(){let i=D(u).$implicit,o=N();return K(o.toEvaluate(i.id))}),l(6,"Invia"),r()()()}if(n&2){let u=t.$implicit,e=N();a(),c("formGroup",e.questionFormGroups[u.id]),a(2),Q("",u.question," ",u.answer,""),a(),c("rows",5)}}var we=(()=>{let t=class t{constructor(e,i){this.route=e,this.teacherService=i,this.questionFormGroups={}}ngOnInit(){this.route.params.subscribe(e=>this.teacherService.getStudentAnswer(e).subscribe(i=>{this.answers=i.student_answer,this.answers.forEach(o=>{this.questionFormGroups[o.id]=new te({answer:new ie("",$.required)})}),console.log(this.answers)}))}toEvaluate(e){let i={id:e,evaluation:this.questionFormGroups[e].value.answer};this.teacherService.toEvaluation(i).subscribe(o=>console.log(o))}};t.\u0275fac=function(i){return new(i||t)(m(q),m(g))},t.\u0275cmp=h({type:t,selectors:[["app-exercise-teacher"]],decls:4,vars:1,consts:[[1,"d-flex","align-items-center","flex-column"],[1,"mb-5"],["class","d-flex justify-content-center w-100",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","w-100"],[1,"w-75",3,"formGroup"],["formControlName","answer",3,"rows"],["itButton","primary",3,"click"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"h5",1),l(2,"Domande"),r(),S(3,Te,7,4,"div",2),r()),i&2&&(a(3),c("ngForOf",o.answers))},dependencies:[w,M,he,oe,F,ee,se,re]});let n=t;return n})();var Ee=(()=>{let t=class t{constructor(e){this.teacherService=e,this.selectedValueSubs=null,this.selectedValueQuest=null,this.selectedValueClass=null,this.subsSelected=!1,this.selectOptionsSubs=[],this.selectOptionsQuest=[],this.selectOptionsClass=[]}ngOnInit(){this.teacherService.getAll().subscribe(e=>{console.log(e),e.subs.forEach((i,o)=>{this.selectOptionsSubs.push({value:i,text:i})}),this.data=e.archive,e.classes.forEach(i=>{this.selectOptionsClass.push({value:i,text:i})})})}enableEx(){this.selectOptionsQuest=[],this.data[this.selectedValueSubs].forEach(e=>{this.selectOptionsQuest.push({value:e,text:e})})}assignExercise(){let e={subject:this.selectedValueSubs,questions:this.selectedValueQuest,class:this.selectedValueClass};this.teacherService.assign(e).subscribe(i=>console.log(i))}};t.\u0275fac=function(i){return new(i||t)(m(g))},t.\u0275cmp=h({type:t,selectors:[["app-assignement"]],decls:9,vars:7,consts:[[1,"d-flex","flex-column","align-items-center"],[1,"w-75"],["defaultOption","Seleziona un elemento",3,"ngModelChange","ngModel","options"],["defaultOption","Seleziona un elemento",3,"ngModelChange","ngModel","options","disabled"],["itButton","primary",3,"click"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"div",1)(2,"it-select",2),O("ngModelChange",function(d){return T(o.selectedValueSubs,d)||(o.selectedValueSubs=d),d}),f("ngModelChange",function(){return o.enableEx()}),r()(),s(3,"div",1)(4,"it-select",3),O("ngModelChange",function(d){return T(o.selectedValueQuest,d)||(o.selectedValueQuest=d),d}),r()(),s(5,"div",1)(6,"it-select",2),O("ngModelChange",function(d){return T(o.selectedValueClass,d)||(o.selectedValueClass=d),d}),r()(),s(7,"button",4),f("click",function(){return o.assignExercise()}),l(8,"Assegna Compiti"),r()()),i&2&&(a(2),I("ngModel",o.selectedValueSubs),c("options",o.selectOptionsSubs),a(2),I("ngModel",o.selectedValueQuest),c("options",o.selectOptionsQuest)("disabled",o.selectedValueSubs===null),a(2),I("ngModel",o.selectedValueClass),c("options",o.selectOptionsClass))},dependencies:[M,ue,F,ne],styles:["div[_ngcontent-%COMP%]{margin-top:10px}"]});let n=t;return n})();function Oe(n,t){if(n&1&&(s(0,"div"),l(1),r()),n&2){let u=t.$implicit;a(),G(" ",u.name," ")}}var _e=(()=>{let t=class t{constructor(e){this.teacherService=e}ngOnInit(){this.teacherService.getStats().subscribe(e=>this.statistics=e)}};t.\u0275fac=function(i){return new(i||t)(m(g))},t.\u0275cmp=h({type:t,selectors:[["app-statistics"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(s(0,"div"),S(1,Oe,2,1,"div",0),r()),i&2&&(a(),c("ngForOf",o.statistics))},dependencies:[w]});let n=t;return n})();var Fe=[{path:"",component:ve,children:[{path:"",redirectTo:"compiti",pathMatch:"full"},{path:"compiti",component:Se},{path:"assegnazione",component:Ee},{path:"compiti/:id",component:we},{path:"statistics",component:_e}]}],ke=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=_({imports:[R.forChild(Fe),R]});let n=t;return n})();var st=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=_({imports:[B,ke,Ce,le,ae]});let n=t;return n})();export{st as TeachersModule};
